(()=>{"use strict";const t=function(t){function e(e){const n=e.id,i=document.createElement("p"),s=document.createElement("button");s.innerHTML="del",s.dataset.itemid=n,s.classList.add(`delete-${t}-button`),s.addEventListener("click",this.onClickDeleteItem),i.innerHTML=e.text,i.appendChild(s),i.classList.add(""+t),this.htmlElement.appendChild(i)}return{initialize:function(){this.addButton.addEventListener("click",this.onClickAddItem)},setNewItemText:function(){this.newItemText=this.inputField.value},renderExistingItems:function(t){this.inputField.value="",this.htmlElement.innerHTML="",t.forEach(e,this)},onClickAddItem:null,onClickDeleteItem:null}},e=function(t){return{data:t,addItem:function(e){const n={id:this.creationCounter,text:e};t.push(n),this.creationCounter++},deleteItem:function(e){e=parseInt(e);const n=t.findIndex((function(t){if(t.id===e)return!0}));t.splice(n,1)},creationCounter:0}},n=function(t,e){function n(){t.setNewItemText(),e.addItem(t.newItemText),t.renderExistingItems(e.data)}function i(n){const i=n.target.dataset.itemid;e.deleteItem(i),t.renderExistingItems(e.data)}return{initialize:function(){t.onClickAddItem=n,t.onClickDeleteItem=i,t.initialize()}}},i={htmlElement:document.getElementById("tasks"),addButton:document.getElementById("task-add"),inputField:document.getElementById("task-input")},s=t("task"),l=Object.assign({},i,s),a=e([]),d=n(l,Object.assign({},{},a));Object.assign({},{},d).initialize();const u={htmlElement:document.getElementById("lists"),addButton:document.getElementById("list-add"),inputField:document.getElementById("list-input")},o=t("list"),c=Object.assign({},u,o),r=e([]),m=n(c,Object.assign({},{},r));Object.assign({},{},m).initialize();var I=new firebaseui.auth.AuthUI(firebase.auth()),h={callbacks:{signInSuccessWithAuthResult:function(t,e){var n,i,s;return n=t.user.uid,i=t.user.displayName,s=t.user.email,null,firebase.database().ref("users/"+n).set({username:i,email:s,profile_picture:null}),!0},uiShown:function(){document.getElementById("loader").style.display="none",console.log("uiShown")}},signInFlow:"popup",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID,firebase.auth.EmailAuthProvider.PROVIDER_ID],tosUrl:"<your-tos-url>",privacyPolicyUrl:"<your-privacy-policy-url>"};I.start("#firebaseui-auth-container",h)})();
//# sourceMappingURL=main.js.map